import numpy as np
from operator import itemgetter

s = {'action': 'proxy-response',
     'requestId': '78539fe0-e9b0-4e4e-8c86-70b36aa93d4f',
     'statusCode': 200,
     'body': {'status': 'Ok',
              'sell': [{'ra': '180319.99', 'ca': '0.28557563', 'sa': '0.29112133', 'pa': '0.28557563', 'co': 1},
                       {'ra': '180320', 'ca': '0.003', 'sa': '0.003', 'pa': '0.003', 'co': 1},
                       {'ra': '180701.83', 'ca': '0.03669162', 'sa': '0.03669162', 'pa': '0.03669162', 'co': 1},
                       {'ra': '180701.84', 'ca': '0.09842802', 'sa': '0.09842802', 'pa': '0.09842802', 'co': 1},
                       {'ra': '180701.85', 'ca': '0.987', 'sa': '0.987', 'pa': '0.987', 'co': 1},
                       {'ra': '180767.59', 'ca': '0.13333333', 'sa': '0.13333333', 'pa': '0.13333333', 'co': 1},
                       {'ra': '181000', 'ca': '0.02362140', 'sa': '0.02362140', 'pa': '0.02362140', 'co': 1},
                       {'ra': '181302.00', 'ca': '9.919', 'sa': '9.919', 'pa': '9.919', 'co': 1},
                       {'ra': '181409.43', 'ca': '0.00005151', 'sa': '0.00005151', 'pa': '0.00005151', 'co': 1},
                       {'ra': '181500', 'ca': '0.38895182', 'sa': '0.38895182', 'pa': '0.38895182', 'co': 1}],
              'buy': [{'ra': '179789.38', 'ca': '0.38503', 'sa': '0.38503', 'pa': '0.38503', 'co': 1},
                      {'ra': '179789.39', 'ca': '0.8000', 'sa': '0.8000', 'pa': '0.8000', 'co': 1},
                      {'ra': '179998', 'ca': '0.00041667', 'sa': '0.00041667', 'pa': '0.00041667', 'co': 1},
                      {'ra': '180000', 'ca': '2.71487618', 'sa': '2.71487618', 'pa': '2.71487618', 'co': 38},
                      {'ra': '180000.01', 'ca': '0.26666666', 'sa': '0.26666666', 'pa': '0.26666666', 'co': 1},
                      {'ra': '180000.1', 'ca': '0.02777776', 'sa': '0.02777776', 'pa': '0.02777776', 'co': 1},
                      {'ra': '180000.12', 'ca': '0.0002', 'sa': '0.0002', 'pa': '0.0002', 'co': 1},
                      {'ra': '180000.52', 'ca': '0.00024811', 'sa': '0.00024811', 'pa': '0.00024811', 'co': 1},
                      {'ra': '180000.60', 'ca': '0.00031761', 'sa': '0.00031761', 'pa': '0.00031761', 'co': 1},
                      {'ra': '180001', 'ca': '0.02054544', 'sa': '0.04000000', 'pa': '0.02054544', 'co': 1}],
              'timestamp': '1646373271787',
              'seqNo': '97936776'}}


internal_ob = {'ask': {i: [0.0, 0.0] for i in range(10)},
               'bid': {i: [0.0, 0.0] for i in range(10)}}
